{"version":3,"sources":["myDiaryController.js"],"names":["myDiary","id","Title","entry","myDiaryController","req","res","body","status","json","message","push","success","result","winston","log","length","i","check","trim","pickEntry","pickEntryArray","split","slice","join"],"mappings":";;;;;;;;AAAA;;;;;;;;AAEA,IAAMA,UAAU,CACd;AACEC,MAAI,CADN;AAEEC,SAAO,sBAFT;AAGEC,SAAO;AAHT,CADc,EAMd;AACEF,MAAI,CADN;AAEE;AACAC,SAAO,QAHT;AAIEC,SAAO;AAJT,CANc,CAAhB;;IAcMC,iB;;;;;;;gCACeC,G,EAAKC,G,EAAK;AAC3B,UAAMH,QAAQE,IAAIE,IAAlB;AACA,UAAI,CAACJ,MAAMF,EAAX,EAAe;AACbK,YAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,4BAAX,EAArB;AACD,OAFD,MAEO;AACLV,gBAAQW,IAAR,CAAaR,KAAb;AACAG,YAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBG,mBAAS,4BADU;AAEnBC,kBAAQb;AAFW,SAArB;AAID;AACF;;;kCAEoBK,G,EAAKC,G,EAAK;AAC7B;AACA,UAAMH,QAAQH,OAAd;AACA,UAAMa,SAAS,EAAf;AACA,UAAI,CAACV,KAAL,EAAY;AACVG,YAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,oBAAX,EAArB;AACD,OAFD,MAEO;AACLI,0BAAQC,GAAR,CAAY,MAAZ,EAAoBZ,MAAMa,MAA1B;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAId,MAAMa,MAA1B,EAAkCC,KAAK,CAAvC,EAA0C;AACxC,cAAMC,QAASf,MAAMc,CAAN,EAASf,KAAV,CAAiBiB,IAAjB,EAAd;AACA,cAAI,CAACD,KAAL,EAAY;AACV,gBAAIE,YAAYjB,MAAMc,CAAN,EAASd,KAAzB;AACA,gBAAIkB,iBAAiBD,UAAUE,KAAV,CAAgB,GAAhB,CAArB;AACAR,8BAAQC,GAAR,CAAY,MAAZ,EAAoBM,cAApB;AACA,gBAAGA,eAAeL,MAAf,GAAwB,EAA3B,EAA+B;AAC7BK,+BAAiBA,eAAeE,KAAf,CAAqB,CAArB,EAAwB,EAAxB,CAAjB;AACAH,0BAAYC,eAAeG,IAAf,CAAoB,GAApB,IAAyB,KAArC;AACArB,oBAAMc,CAAN,EAASf,KAAT,GAAiBkB,SAAjB;AACD;AACF;AACDP,iBAAOF,IAAP,CAAYR,MAAMc,CAAN,CAAZ;AACD;AACDX,YAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBG,mBAAS,SADU;AAEnBC;AAFmB,SAArB;AAID;AACF;;;;;;kBAEYT,iB","file":"myDiaryController.js","sourceRoot":"/home/shine/intro/My-Diary/server/controller/user","sourcesContent":["import winston from 'winston';\n\nconst myDiary = [\n  {\n    id: 1,\n    Title: 'The two solider sons',\n    entry: 'The eldest son in a family of three boys, Aricles had no desire to be a soldier',\n  },\n  {\n    id: 2,\n    // Title: '                  Falling in love',\n    Title: '      ',\n    entry: 'Everything happened with millsecond, beautiful girl passsing by with alovely smile',\n  },\n];\n\nclass myDiaryController {\n  static createEntry(req, res) {\n    const entry = req.body;\n    if (!entry.id) {\n      res.status(500).json({ message: 'error while creating entry' });\n    } else {\n      myDiary.push(entry);\n      res.status(201).json({\n        success: 'entry created successfully',\n        result: myDiary,\n      });\n    }\n  }\n\n  static getAllEntries(req, res) {\n    // const entry = myDiary.map(s => s.trim());\n    const entry = myDiary;\n    const result = [];\n    if (!entry) {\n      res.status(404).json({ message: 'No Entry Available' });\n    } else {\n      winston.log('info', entry.length);\n      for (let i = 0; i < entry.length; i += 1) {\n        const check = (entry[i].Title).trim();\n        if (!check) {\n          let pickEntry = entry[i].entry;\n          let pickEntryArray = pickEntry.split(' ');\n          winston.log('info', pickEntryArray);\n          if(pickEntryArray.length > 10) {\n            pickEntryArray = pickEntryArray.slice(0, 10);\n            pickEntry = pickEntryArray.join(' ')+'...';\n            entry[i].Title = pickEntry;\n          }\n        }\n        result.push(entry[i]);\n      }\n      res.status(201).json({\n        success: 'success',\n        result,\n      });\n    }\n  }\n}\nexport default myDiaryController;\n"]}